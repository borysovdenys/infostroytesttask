<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Fields</title>
    <h:outputStylesheet name="bootstrap/css/bootstrap.css"/>
    <h:outputStylesheet name="bootstrap/css/bootstrap-grid.css"/>
    <h:outputScript name="/js/jquery-3.3.1.min.js"/>
</h:head>
<h:body>
    <ui:include src="header.xhtml"/>
    <h3>Edit Field</h3>
    <h:form>
        <h:outputLabel>Label*:</h:outputLabel><br/>
        <h:inputText value="#{newField.label}" required="true" requiredMessage="label"/><br/><br/>

        <h:outputLabel>Type*:</h:outputLabel><br/>
        <h:selectOneMenu value="#{newField.type}">
            <f:selectItems value="#{typeService.typeList}" var="type" itemValue="#{type}"/>
            <f:ajax render="groups"/>
        </h:selectOneMenu><br/>

        <h:panelGroup id="groups">
            <h:panelGroup
                    rendered="#{(newField.type == 'radio_button') or  (newField.type == 'check_box') or (newField.type == 'combo_box')}">
                <h:outputText value="Options"/><br/>

                <h:inputTextarea value="#{newField.options}"/>
            </h:panelGroup>

        </h:panelGroup><br/>


        <h:selectBooleanCheckbox value="#{newField.required}"/> Required <br/>
        <h:selectBooleanCheckbox value="#{newField.active}"/> Is active<br/>


        <h:commandButton value="Save" action="#{fieldService.updateField(newField)}"/>
        <h:commandButton value="Cancel" action="/fields?faces-redirect=true"/>
    </h:form>
</h:body>
</html>
